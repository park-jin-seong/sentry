# 🎥 선별 관제 기반 **영상 모니터링 시스템** — 역할/기능 & 진행 순서

> 이벤트가 발생한 화면만 선별 표출하고, **실시간 채팅/알림**으로 관제 효율을 높이는 Spring Boot × React 프로젝트의 역할별 기능 정리 문서이다.

---

## 🧑‍💼 역할별 기능 (Role-based Features)

### 1) **마스터 로그인**
#### 1.1 설정
- **카메라 추가**
  - 공공데이터 API를 통해 CCTV 메타데이터를 조회하고, 필요한 카메라를 선택하여 시스템에 추가.
  - 중복 추가 방지/유효성 검사, 그룹/우선순위 태깅 지원.
- **분석 카메라 할당**
  - 추가된 카메라 리스트를 **분석 서버**에 할당하여 분석을 시작/중지할 수 있다.
  - 분석 대상(사람/차량/영역침입 등)과 임계치(Threshold) 설정 지원.
- **담당자 계정 관리**
  - 담당자 계정 **추가/수정/삭제** (활성/비활성) 및 역할(Roles) 부여.
  - 초기 비밀번호/정책 관리(만료/복잡도) 및 잠금 해제.

---

### 2) **담당자 로그인**
#### 2.1 설정
- **관제사 계정 관리**
  - 관제사 계정 **추가/수정/삭제** 및 팀/근무조 매핑.
- **관제사 계정 카메라 할당**
  - 관제사에게 **관제 대상 카메라**를 배정/회수하고, 우선순위·필터(긴급/중요/일반)를 지정.

#### 2.2 검색
- 이벤트 유형/시간/카메라/중요도 기준으로 **히스토리 검색**이 가능.
- 결과는 타임라인/표 형태로 제공되며, 스냅샷/상세 메타 연동을 지원.

---

### 3) **관제사 로그인**
#### 3.1 영상 관제
- 본인에게 **할당된 카메라**의 선별 화면을 관제.
- 이벤트 발생 시 타일 자동 갱신, 우선순위에 따른 표출 정렬, 북마크/담당자 지정 기능 제공.

#### 3.2 채팅
- 팀/담당자와 **실시간 채팅**으로 상황을 공유합니다.
- @멘션/읽음 상태/브라우저 알림을 지원하며, 사건 카드(URL) 공유가 가능.

---

## 🧭 진행 순서 (프로젝트 플로우)
1. **주제 선정 및 요구사항 정리**  
   - 선별 관제 목표 정의(이벤트 기반 표출, 피로도 감소, 대응 시간 단축)  
   - 사용자 역할(마스터/담당자/관제사) 및 권한 범위 정의
2. **개발 환경 구축**  
   - Backend(Spring Boot, MyBatis, MySQL), Frontend(React) 기본 스캐폴딩  
   - 인증/인가(Spring Security), WebSocket(채팅/알림) 구성
3. **화면 및 기능 구현**  
   - 로그인/권한, 설정(계정·카메라·분석), 관제 대시보드, 검색/타임라인, 채팅
4. **테스트 및 디버깅**  
   - 단위/통합 테스트, 시나리오 테스트, 성능 점검(인덱스/쿼리 튜닝)
5. **배포**  
   - 환경별 설정 분리(.env, profiles), 로그/모니터링, 롤백 전략

---

## 🧰 배경 기술 (OS & SW)
- **Frontend:** HTML, CSS, JavaScript, React  
- **Backend:** Java 17 (Spring Boot), C#(분석 모듈/연동 파트가 존재하는 경우)  
- **DB/Persistence:** MySQL, MyBatis  
- **Auth/Security:** Spring Security (RBAC, 비밀번호/잠금 정책)  
- **Realtime:** WebSocket(STOMP) 기반 채팅/알림  
- **형상관리:** GitHub, SourceTree (2·3차 프로젝트에서 사용)

> ※ C#은 분석 엔진 또는 외부 연동 모듈이 C# 기반일 경우를 가정한 선택지로 기술했습니다. 실제 구성에 맞추어 수정하셔도 됩니다.

---

## 🔌 외부 연동
- **공공데이터 API – CCTV 메타데이터**: 지역/설치 위치/채널 정보를 조회하여 카메라 추가 시 활용  
- **분석 서버 연동**: 카메라 할당/해제, 분석 대상/임계치 업데이트, 상태 모니터링

---

## ✅ 체크리스트 (예시)
- [ ] 마스터: CCTV 메타 불러오기/카메라 선택 추가
- [ ] 마스터: 분석 서버 할당/해제, 임계치 설정
- [ ] 마스터: 담당자 계정 CRUD
- [ ] 담당자: 관제사 계정 CRUD
- [ ] 담당자: 관제사-카메라 매핑/필터 설정
- [ ] 담당자: 이벤트 검색/타임라인 확인
- [ ] 관제사: 실시간 선별 관제/우선순위 보기
- [ ] 관제사: 실시간 채팅/멘션/알림

---

## 📎 부록 (권한 요약)
| 역할 | 주요 권한 | 대표 화면 |
|---|---|---|
| **마스터** | 계정/권한/카메라/분석 정책 전체 관리 | 설정 전역, 관제, 로그 |
| **담당자** | 관제사 계정/카메라 배정, 검색 | 설정(팀 범위), 검색/타임라인 |
| **관제사** | 관제/채팅/이벤트 확인 | 대시보드, 타임라인, 채팅 |

---

> 문서/스크린샷 경로 예시: `docs/screenshots/`  
> 사용 환경에 맞춰 항목을 추가/수정하셔서 README에 포함하시면 됩니다.
